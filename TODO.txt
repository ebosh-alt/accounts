Подготовить .env V
Подготовить тестовую дату для БД V
Подготовить тестовый режим работы БОТА V


--------------------------------
Таблица Accounts:
Добавлено поле deal_id

Таблица deals:
Удалено account_id, group_id
Добавлено wallet

Таблица sellers:
Добавлено wallet
--------------------------------


1. Ключ для поиска по файлам:
get(deal.account_id
Необходимо изменить запросы для получения аккаунта по deal.id, а не по deal.account_id V

2. Ключ для поиска по файлам: V
.account_id

3. Ключ для поиска по файлам: V
.group_id

4.Ключ для поиска по файлам: V
group_id

5. Изменить все вхождения для взаимодействия Аккаунтов и Сделок
buy_manually V

6. Тестирование
Пройти автоматическую покупку
Пройти ручную покупку

Все работает. Необходимо поставить новый GetMessage. Не обрабатываются символы при PARSE_MODE


7.
Админ:
- изменить реквизиты продавца  V
Продавец:
- изменить реквизиты(свои)  V


8.
Пользователь:
- может указать что товар не качественный путем нажатия на кнопку “не ок” V
(покупатель нажимает «не ок». ----------------- дефект V
приходит уведомление об этом админу и продавцу. ----------------- 3 сообщения (покупателю скидывается ссылка на админа для выяснения: действительно ли аккаунты не ок) V

Админ:
- заморозка сделки, пока сделка заморожена денежные средства не уходят продавцу ----------------- новый статус для сделки V
отмена сделки: денежные средства уходят не продавцу, а покупателю ----------------- ввод реквизитов покупателя V
- возврат денежных средств для этого ему необходимо ввести реквизиты для возврата ----------------- V

подтверждение сделки: денежные средства уходят продавцу ----------------- пополнения seller.balance, изменение deal.payment_status V


9. Тестирование 8 пункта


10. Добавление бизнес-логики для wallet
Проведите 


Статусы сделок:
0 - Не оплачен
1 - Оплачен, но не подтвержден (только гарант)
2 - Оплачен
3 - Заморозка
4 - Отмена сделки (Только гарант)